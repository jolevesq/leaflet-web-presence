(function(e){function t(t){for(var n,o,s=t[0],u=t[1],l=t[2],f=0,d=[];f<s.length;f++)o=s[f],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);c&&c(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,s=1;s<a.length;s++){var u=a[s];0!==r[u]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/leaflet-web-presence/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var c=u;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"03e0":function(e,t,a){"use strict";a.r(t);var n=a("4dd7"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=r.a},"0613":function(e,t,a){"use strict";a("d81d"),Object.defineProperty(t,"__esModule",{value:!0});var n=a("9ab4"),r=n.__importDefault(a("2b0e")),i=n.__importDefault(a("2f62"));r.default.use(i.default),t.default=new i.default.Store({state:{version:{packageVersion:"0.1.0",packageHash:"889df7e",packageTime:"2020-11-10"},map:{},mapStatus:"pending"},mutations:{updateMap:function(e,t){e.map[t.id]=t}},actions:{},modules:{},getters:{appVersion:function(e){return e.version.packageVersion},appHash:function(e){return e.version.packageHash},appTime:function(e){return e.version.packageTime},map:function(e){return e.map},mapStatus:function(e){return e.mapStatus}}})},"0670":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("9ab4"),r=n.__importDefault(a("2b0e")),i=n.__importDefault(a("bb71")),o=n.__importDefault(a("30b3")),s=n.__importDefault(a("0ab3")),u=n.__importDefault(a("1b2e")),l=n.__importDefault(a("ef1a")),c=n.__importDefault(a("4cf0")),f=n.__importDefault(a("1b66")),d=n.__importDefault(a("2ea6")),p=n.__importDefault(a("55ac")),v=n.__importDefault(a("dac5"));r.default.use(i.default);var m={iconfont:"md",icons:{values:{sideMenu:{component:s.default},github:{component:u.default},layers:{component:l.default},zoomIn:{component:c.default},closePanelLeft:{component:o.default},fullScreen:{component:f.default},help:{component:d.default}}},breakpoint:{thresholds:{xs:340,sm:540,md:800,lg:1280},scrollBarWidth:24},rtl:!1,theme:{themes:{light:{primary:"#3f51b5",secondary:"#b0bec5",accent:"#8c9eff",error:"#b71c1c"}}},lang:{locales:{en:p.default,fr:v.default},current:"en"}};t.default=new i.default(m)},"0ab3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}})])},r=[],i={name:"side-menu"},o=i,s=a("2877"),u=Object(s["a"])(o,n,r,!1,null,null,null);t["default"]=u.exports},"0bea":function(e,t,a){"use strict";var n=a("db77"),r=a.n(n);r.a},"0c3d":function(e,t,a){"use strict";a("99af");var n=a("970b"),r=a("5bc3"),i=a("ed6d"),o=a("2d0d");Object.defineProperty(t,"__esModule",{value:!0});var s=a("9ab4"),u=a("60a3"),l=s.__importDefault(a("e11e")),c=a("bb3f");a("38d1");var f=function(e){i(a,e);var t=o(a);function a(){var e;return n(this,a),e=t.apply(this,arguments),e.ready=!1,e.cardinal={deg:String.fromCharCode(176),east:"",west:"",north:"",south:""},e}return r(a,[{key:"created",value:function(){this.loadCardinality("fr-CA")}},{key:"mounted",value:function(){var e=this;this.mapObject=l.default.control.mousePosition({separator:" | ",lngFormatter:function(t){return e.coordFormnat(t,e.cardinal.deg,e.cardinal.north)},latFormatter:function(t){return e.coordFormnat(t,e.cardinal.deg,e.cardinal.west)},emptyString:"-- | --",position:"bottomright"}),this.ready=!0,this.parentContainer=c.findRealParent(this.$parent),this.mapObject.addTo(this.parentContainer.mapObject)}},{key:"loadCardinality",value:function(e){this.cardinal.east="E",this.cardinal.west="en-CA"===e?"W":"O",this.cardinal.north="N",this.cardinal.south="S"}},{key:"coordFormnat",value:function(e,t,a){var n=Math.floor(Math.abs(e))*(e<0?-1:1),r=Math.floor(Math.abs(60*(e-n))),i=Math.round(3600*(Math.abs(e)-Math.abs(n)-r/60));return"".concat(Math.abs(n)).concat(t," ").concat(r>=10?"".concat(r):"0".concat(r),"' ").concat(i>=10?"".concat(i):"0".concat(i)," ").concat(a,'"')}}]),a}(u.Vue);f=s.__decorate([u.Component({name:"wpMousePosition",components:{}})],f),t.default=f},"0e09":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{display:"none"}},[e.ready?e._t("default"):e._e()],2)},r=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},"0e0e":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-navigation-drawer",{attrs:{app:"",value:e.isOpen,absolute:"",temporary:""},on:{input:function(t){return e.setState(e.isSideMenuOpen)}}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({staticClass:"cgp-close-btn mx-0 float-right",attrs:{text:"",rounded:"",small:"",color:"primary"},on:{click:function(t){return e.setState(!1)}}},n),[a("v-icon",[e._v("$vuetify.icons.closePanelLeft")])],1)]}}])},[a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.close")))])]),a("v-img",{attrs:{"aspect-ratio":16/9,src:"https://cdn.vuetifyjs.com/images/parallax/material.jpg"}},[a("v-row",{staticClass:"lightbox black--text pa-2 fill-height",attrs:{align:"end"}},[a("v-col",[a("div",{staticClass:"subheading"},[e._v(e._s(e.$vuetify.lang.t("$vuetify.logoText")))])])],1)],1),a("v-list",[e._l(e.items,(function(t,n){return[t.divider?a("v-divider",{key:n}):a("v-list-item",{key:t.title,on:{click:function(a){return e.doAction(t.title)}}},[a("v-list-item-action",[a("v-icon",[e._v(e._s("$vuetify.icon."+t.icon))])],1),a("v-list-item-title",[e._v(e._s(e.$vuetify.lang.t("$vuetify."+t.title)))])],1)]}))],2),a("span",{staticStyle:{flex:"1 1"}}),a("v-divider"),a("div",{staticClass:"cgp-version"},[a("span",{staticClass:"cgp-version-number"},[e._v(e._s(e.$store.getters.appVersion)),a("span",{staticClass:"cgp-version-hash"},[e._v(" ["+e._s(e.$store.getters.appHash)+"]")])]),a("span",{staticClass:"cgp-version-timestamp"},[e._v(e._s(e.$store.getters.appTime))]),a("div",{staticClass:"cgp-version-github"},[a("a",{attrs:{href:"https://github.com/fgpv-vpgf/fgpv-vpgf",target:"_parent"}},[a("v-icon",[e._v("$vuetify.icons.github")]),e._v("fgpv-vpgf/fgpv-vpgf")],1)])])],1)},r=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},"1b2e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M 11.9991,2C 6.47774,2 2.00001,6.47712 2.00001,12.0006C 2.00001,16.4184 4.86504,20.1665 8.83877,21.489C 9.33909,21.5807 9.52142,21.272 9.52142,21.007C 9.52142,20.7696 9.51282,20.1407 9.50791,19.3062C 6.72636,19.9105 6.13948,17.9657 6.13948,17.9657C 5.68459,16.8105 5.02895,16.5029 5.02895,16.5029C 4.121,15.8824 5.09771,15.895 5.09771,15.895C 6.10143,15.9657 6.62936,16.9256 6.62936,16.9256C 7.52135,18.4537 8.97014,18.0125 9.53984,17.7565C 9.63069,17.1102 9.88914,16.6696 10.1746,16.4196C 7.95415,16.1672 5.61952,15.3093 5.61952,11.4773C 5.61952,10.3856 6.00934,9.49292 6.64902,8.79388C 6.54588,8.54089 6.20271,7.52417 6.74723,6.14739C 6.74723,6.14739 7.58643,5.87851 9.49686,7.17252C 10.2943,6.95073 11.1501,6.8398 12.0003,6.83594C 12.8499,6.8398 13.7051,6.95073 14.5038,7.17252C 16.413,5.87851 17.2509,6.14739 17.2509,6.14739C 17.7967,7.52417 17.4535,8.54089 17.351,8.79388C 17.9919,9.49292 18.3787,10.3856 18.3787,11.4773C 18.3787,15.3189 16.0403,16.1642 13.8131,16.4118C 14.1717,16.7205 14.4915,17.3308 14.4915,18.2637C 14.4915,19.6005 14.4792,20.6791 14.4792,21.007C 14.4792,21.2744 14.6597,21.5855 15.1668,21.4878C 19.1374,20.1629 22,16.4172 22,12.0006C 22,6.47712 17.5223,2 11.9991,2 Z "}})])},r=[],i={name:"github-icon"},o=i,s=a("2877"),u=Object(s["a"])(o,n,r,!1,null,null,null);t["default"]=u.exports},"1b66":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}})])},r=[],i={name:"full-screen"},o=i,s=a("2877"),u=Object(s["a"])(o,n,r,!1,null,null,null);t["default"]=u.exports},"232e":function(e,t,a){"use strict";a.r(t);var n=a("ece0"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=r.a},2936:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"basic-example"},[a("l-map",{ref:"myMap",staticStyle:{height:"100%"},attrs:{zoom:e.zoomLevel,center:e.center,crs:e.crs,options:e.mapOptions},on:{ready:function(t){return e.mapReady()}}},[e._l(e.basemaps,(function(e,t){return a("l-tile-layer",{key:t,attrs:{url:e.url,options:e.options}})})),a("l-control-scale",{attrs:{position:"bottomright",imperial:!0,metric:!0}}),a("l-control-attribution",{attrs:{position:"bottomleft"}}),a("l-control-zoom",{attrs:{position:"bottomright"}}),a("wp-mouse-position"),a("wp-app-bar")],2)],1)},r=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},"2ea6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}})])},r=[],i={name:"help"},o=i,s=a("2877"),u=Object(s["a"])(o,n,r,!1,null,null,null);t["default"]=u.exports},"30b3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M 18.414,7.41398L 17,6L 11,12L 17,18L 18.414,16.586L 13.828,12L 18.414,7.41398 Z M 12.414,7.41398L 11,6L 5.00001,12L 11,18L 12.414,16.586L 7.82801,12L 12.414,7.41398 Z "}})])},r=[],i={name:"close-panel-left"},o=i,s=a("2877"),u=Object(s["a"])(o,n,r,!1,null,null,null);t["default"]=u.exports},"3ac9":function(e,t,a){},"40f9":function(e,t,a){"use strict";a.r(t);var n=a("0e0e"),r=a("41b6");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("85a3");var o=a("2877"),s=a("6544"),u=a.n(s),l=a("8336"),c=a("62ad"),f=a("ce7e"),d=a("132d"),p=a("adda"),v=a("8860"),m=a("da13"),y=a("1800"),h=a("5d23"),b=a("f774"),g=a("0fd9"),_=a("3a2f"),M=Object(o["a"])(r["default"],n["a"],n["b"],!1,null,null,null);t["default"]=M.exports,u()(M,{VBtn:l["a"],VCol:c["a"],VDivider:f["a"],VIcon:d["a"],VImg:p["a"],VList:v["a"],VListItem:m["a"],VListItemAction:y["a"],VListItemTitle:h["k"],VNavigationDrawer:b["a"],VRow:g["a"],VTooltip:_["a"]})},"41b6":function(e,t,a){"use strict";a.r(t);var n=a("cffa"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=r.a},"4cf0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}})])},r=[],i={name:"zoom-in"},o=i,s=a("2877"),u=Object(s["a"])(o,n,r,!1,null,null,null);t["default"]=u.exports},"4dd7":function(e,t,a){"use strict";a("4160"),a("d81d"),a("b0c0"),a("ac1f"),a("1276"),a("159b");var n=a("970b"),r=a("5bc3"),i=a("ed6d"),o=a("2d0d");Object.defineProperty(t,"__esModule",{value:!0});var s=a("9ab4"),u=a("60a3"),l=s.__importDefault(a("e11e")),c=s.__importDefault(a("bc3a")),f=function(e){i(a,e);var t=o(a);function a(){var e;return n(this,a),e=t.apply(this,arguments),e.thelayers=[],e}return r(a,[{key:"created",value:function(){console.log("layer menu component created"),setTimeout(this.createLegend,2e3)}},{key:"createLegend",value:function(){var e=this;console.log("yes we will create it");var t=this.$store.getters.map[this.$parent.$parent.$parent.$el.id].wpLayers;t.forEach((function(t){u.Vue.set(t,"name","WMS"),u.Vue.set(t,"symbols",[]),u.Vue.set(t,"expand",!1),"string"===typeof t.options.layers&&u.Vue.set(t.options,"layers",t.options.layers.split(",")),"ogcWMS"!==t.type&&(t._url=t.options.url,t.metadata((function(e,a){var n="undefined"!==typeof a.documentInfo?a.documentInfo.Title:a.name;u.Vue.set(t,"name",n)}))),"esriFeature"===t.type?(u.Vue.set(t.options,"layers",["1"]),c.default.get("".concat(t._url,"/legend?f=pjson")).then((function(e){"undefined"!==typeof e.data.drawingInfo&&"esriFeature"===t.type&&t.symbols.push(e.data.drawingInfo.renderer.symbol.imageData)}))):"esriDynamic"===t.type&&c.default.get("".concat(t._url,"/legend?f=pjson")).then((function(e){var a=e.data.layers;a.forEach((function(e){"undefined"!==typeof e.legend&&e.legend.forEach((function(e){t.symbols.push(e.imageData)}))}))})),t.visibleLayer=!0,t.opacityLayer=100,e.thelayers.push(t)}));var a=this.$el;l.default.DomEvent.disableClickPropagation(a),l.default.DomEvent.disableScrollPropagation(a)}},{key:"setVisibility",value:function(e){var t=e.visibleLayer?1:0;this.setLayerStyle(e,t)}},{key:"setOpacity",value:function(e){this.setLayerStyle(e,e.opacityLayer/100)}},{key:"setLayerStyle",value:function(e,t){"esriFeature"===e.type?e.eachFeature((function(e){e.setOpacity(t)})):e.setOpacity(t)}}]),a}(u.Vue);f=s.__decorate([u.Component({name:"wpLayersMenu",components:{},props:[]})],f),t.default=f},"516c":function(e,t,a){"use strict";var n=a("970b"),r=a("5bc3"),i=a("ed6d"),o=a("2d0d");Object.defineProperty(t,"__esModule",{value:!0});var s=a("9ab4"),u=a("60a3"),l=s.__importDefault(a("e11e")),c=s.__importDefault(a("40f9")),f=s.__importDefault(a("65d2")),d=function(e){i(a,e);var t=o(a);function a(){var e;return n(this,a),e=t.apply(this,arguments),e.isSideMenuOpen=!1,e.isLayersMenuOpen=!0,e}return r(a,[{key:"updateSideMenuState",value:function(e){this.isSideMenuOpen=e}},{key:"created",value:function(){console.log("app bar created")}},{key:"mounted",value:function(){console.log("app bar mounted");var e=this.$el;l.default.DomEvent.disableClickPropagation(e),l.default.DomEvent.disableScrollPropagation(e)}}]),a}(u.Vue);d=s.__decorate([u.Component({name:"wpAppBar",components:{wpSideMenu:c.default,wpLayersMenu:f.default},props:[]})],d),t.default=d},"55ac":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("1f11");t.default=Object.assign(Object.assign({},n.en),{key1:"key 1 internationalization",key2:"key 2 internationalization",sideMenu:"Show side menu",layers:"Layers",close:"Close",fullScreen:"Full Screen",help:"Help",logoText:"Web Presence",namespace:{key3:"key 3 internationalization"}})},"57de":function(e,t,a){"use strict";a.r(t);var n=a("dacb"),r=a("70fe");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("0bea");var o=a("2877"),s=a("6544"),u=a.n(s),l=a("40dc"),c=a("8336"),f=a("ce7e"),d=a("132d"),p=a("a722"),v=a("2fa4"),m=a("3a2f"),y=Object(o["a"])(r["default"],n["a"],n["b"],!1,null,null,null);t["default"]=y.exports,u()(y,{VAppBar:l["a"],VBtn:c["a"],VDivider:f["a"],VIcon:d["a"],VLayout:p["a"],VSpacer:v["a"],VTooltip:m["a"]})},"5c29":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"cgp-layers-menu",attrs:{"max-width":"400",light:""}},[a("span",[e._v("Layers "+e._s(this.thelayers.length))]),a("v-list",e._l(e.thelayers,(function(t,n){return a("div",{key:n},[[a("v-divider"),a("div",{staticClass:"cgp-layer-line"},[a("v-row",{staticClass:"cgp-layer"},[a("v-hover",{staticClass:"cpg-layer-stack",scopedSlots:e._u([{key:"default",fn:function(n){var r=n.hover;return[a("v-card",{staticClass:"mx-auto transition-swing",attrs:{elevation:r?12:6},on:{click:function(e){t.expand=!t.expand}}},["ogcWMS"!==t.type?a("img",{staticClass:"cgp-symbol-small",attrs:{src:"data:image/png;base64,"+t.symbols[0]}}):e._e(),"ogcWMS"===t.type?a("img",{staticClass:"cgp-symbol-small",attrs:{src:t._url+"?request=GetLegendGraphic&version=1.3.0&Service=WMS&SLD_VERSION=1.1.0&format=image/png&layer="+t.wmsParams.layers}}):e._e()])]}}],null,!0)}),a("div",{staticClass:"cgp-layer-name"},[a("span",[e._v(e._s(t.name))])]),a("div",{staticClass:"cgp-layer-controls"},[a("v-slider",{staticClass:"cgp-layer-opa",attrs:{"thumb-size":24,max:100,min:0,"thumb-label":!0},on:{change:function(a){return e.setOpacity(t)}},model:{value:t.opacityLayer,callback:function(a){e.$set(t,"opacityLayer",a)},expression:"layer.opacityLayer"}}),a("v-checkbox",{staticClass:"cgp-layer-vis align-center justify-center",on:{change:function(a){return e.setVisibility(t)}},model:{value:t.visibleLayer,callback:function(a){e.$set(t,"visibleLayer",a)},expression:"layer.visibleLayer"}})],1)],1),a("v-row",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"layer.expand"}],staticClass:"cpg-row-symbol"},[a("v-card",e._l(t.options.layers,(function(n,r){return a("div",{key:r},["ogcWMS"!==t.type?a("img",{attrs:{src:"data:image/png;base64,"+t.symbols[r]}}):e._e(),"ogcWMS"===t.type?a("img",{attrs:{src:t._url+"?request=GetLegendGraphic&version=1.3.0&Service=WMS&SLD_VERSION=1.1.0&format=image/png&layer="+t.wmsParams.layers}}):e._e()])})),0)],1)],1)]],2)})),0)],1)},r=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},"626e":function(e,t,a){"use strict";var n=a("677a"),r=a.n(n);r.a},"65d2":function(e,t,a){"use strict";a.r(t);var n=a("5c29"),r=a("03e0");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("ca95");var o=a("2877"),s=a("6544"),u=a.n(s),l=a("b0af"),c=a("ac7c"),f=a("ce7e"),d=a("ce87"),p=a("8860"),v=a("0fd9"),m=a("ba0d"),y=Object(o["a"])(r["default"],n["a"],n["b"],!1,null,null,null);t["default"]=y.exports,u()(y,{VCard:l["a"],VCheckbox:c["a"],VDivider:f["a"],VHover:d["a"],VList:p["a"],VRow:v["a"],VSlider:m["a"]})},"677a":function(e,t,a){},"70fe":function(e,t,a){"use strict";a.r(t);var n=a("516c"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=r.a},"7fe4":function(e,t,a){"use strict";a.r(t);var n=a("9df4"),r=a("232e");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);var o=a("2877"),s=a("6544"),u=a.n(s),l=a("7496"),c=a("a523"),f=Object(o["a"])(r["default"],n["a"],n["b"],!1,null,null,null);t["default"]=f.exports,u()(f,{VApp:l["a"],VContainer:c["a"]})},"85a3":function(e,t,a){"use strict";var n=a("3ac9"),r=a.n(n);r.a},"8da54":function(e,t,a){"use strict";a("a9e3");var n=a("6374"),r=a("970b"),i=a("5bc3"),o=a("ed6d"),s=a("2d0d");Object.defineProperty(t,"__esModule",{value:!0});var u=a("9ab4"),l=a("60a3"),c=u.__importDefault(a("e11e")),f=a("bb3f"),d=u.__importDefault(a("a879")),p=u.__importDefault(a("57de")),v=a("e877"),m=a("a65d"),y=function(e){o(a,e);var t=s(a);function a(){var e;return r(this,a),e=t.apply(this,arguments),e.marker=c.default.latLng(47.41322,-1.219482),e.mapOptions={attributionControl:!1,zoomControl:!1},e}return i(a,[{key:"created",value:function(){this.crs="3857"===String(this.$attrs.projection)?c.default.CRS["EPSG".concat(this.$attrs.projection)]:this.getLCCProjection();var e=new v.Basemap;this.basemaps="3857"===String(this.$attrs.projection)?e.wmCBMT:e.lccCBMT,this.layers=this.$attrs.layers,this.center=this.$attrs.center,this.zoomLevel=Number(this.$attrs.zoomLevel)}},{key:"mounted",value:function(){var e=this;this.$nextTick((function(){var t=e.$refs.myMap.mapObject;c.default.marker([47.41322,-1.219482]).addTo(t);var a,r=new m.Layer,i=e.layers,o=[],s=n(i);try{for(s.s();!(a=s.n()).done;){var u=a.value;"ogcWMS"===u.type?o.push(r.addWMS(t,u)):"esriFeature"===u.type?o.push(r.addEsriFeature(t,u)):"esriDynamic"===u.type&&o.push(r.addEsriDynamic(t,u))}}catch(f){s.e(f)}finally{s.f()}var l=new v.Basemap;setTimeout((function(){t.attributionControl.initialize(),t.attributionControl.setPrefix(""),t.attributionControl.addAttribution("en-CA"===e.$attrs.language?l.attribution["en-CA"]:l.attribution["fr-CA"])}),2e3),t.attributionControl.setPosition("bottomleft"),t.wpLayers=o,e.$store.commit("updateMap",t)}))}},{key:"mapReady",value:function(){var e=this.$refs.myMap.mapObject;e.language=this.$attrs.language,e.id=this.$attrs.id}},{key:"getLCCProjection",value:function(){var e=[-4282638.061501402,-5153821.09213678,4852210.175566408,4376714.442097411],t=[145e6,85e6,5e7,3e7,175e5,1e7,6e6,35e5,2e6,12e5,7e5,42e4,25e4,145e3,85e3,5e4,3e4,17500,1e4,6e3],a=[38364.660062653464,22489.62831258996,13229.193125052918,7937.5158750317505,4630.2175937685215,2645.8386250105837,1587.5031750063501,926.0435187537042,529.1677250021168,317.50063500127004,185.20870375074085,111.12522225044451,66.1459656252646,38.36466006265346,22.48962831258996,13.229193125052918,7.9375158750317505,4.6302175937685215,2.6458386250105836,1.5875031750063502],n=new c.default.Transformation(1,-e[0],-1,e[3]),r=c.default.point(4376714.442097411,-4282638.061501402),i=c.default.point(-5153821.09213678,4852210.175566408),o=new c.default.Proj.CRS("EPSG:3978","+proj=lcc +lat_1=49 +lat_2=77 +lat_0=49 +lon_0=-95 +x_0=0 +y_0=0 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",{resolutions:a,origin:[-34655800,3931e4],bounds:c.default.bounds(r,i),transformation:n,scale:t});return o}}]),a}(l.Vue);y=u.__decorate([l.Component({name:"wpMap",components:{LMap:f.LMap,LTileLayer:f.LTileLayer,LControlScale:f.LControlScale,LControlAttribution:f.LControlAttribution,LControlZoom:f.LControlZoom,LMarker:f.LMarker,wpMousePosition:d.default,wpAppBar:p.default},props:[]})],y),t.default=y},"8f95":function(e,t,a){"use strict";a.r(t);var n=a("8da54"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=r.a},"9df4":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-container",e._l(e.maps,(function(t,n){return a("div",{key:n},[e._v(" "+e._s(t.name)+" "),a("wp-map",{attrs:{id:t.id,projection:t.projection,zoomLevel:t.zoomLevel,center:t.center,language:t.language,layers:t.layers}})],1)})),0)],1)},r=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},a65d:function(e,t,a){"use strict";a("a15b"),a("d81d"),a("d3b7"),a("ac1f"),a("1276"),a("fb2c"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("ddb0");var n=a("970b"),r=a("5bc3");Object.defineProperty(t,"__esModule",{value:!0}),t.Layer=void 0;var i=a("9ab4"),o=i.__importDefault(a("e11e")),s=a("3023");a("77a1");var u=function(){function e(){n(this,e),console.log("layers")}return r(e,[{key:"addWMS",value:function(e,t){var a={};return a=o.default.tileLayer.wms(t.url,{layers:t.entries,format:"image/png",transparent:!0,id:crypto.getRandomValues(new Uint32Array(1)).join("-"),className:crypto.getRandomValues(new Uint32Array(1)).join("-"),attribution:""}),a.type=t.type,a.addTo(e),a}},{key:"addEsriFeature",value:function(e,t){var a=crypto.getRandomValues(new Uint32Array(1)).join("-"),n=s.featureLayer({url:t.url});return n.type=t.type,n.id=a,n.addTo(e),n}},{key:"addEsriDynamic",value:function(e,t){var a=crypto.getRandomValues(new Uint32Array(1)).join("-"),n=s.dynamicMapLayer({url:t.url,layers:t.entries.split(",").map((function(e){return parseInt(e,10)})),attribution:""});return n.type=t.type,n.id=a,n.addTo(e),n}}]),e}();t.Layer=u},a879:function(e,t,a){"use strict";a.r(t);var n=a("0e09"),r=a("b6cf");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("626e");var o=a("2877"),s=Object(o["a"])(r["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},ac9a:function(e,t,a){},b6cf:function(e,t,a){"use strict";a.r(t);var n=a("0c3d"),r=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=r.a},ca95:function(e,t,a){"use strict";var n=a("f53c"),r=a.n(n);r.a},ccb6:function(e,t,a){"use strict";a.r(t);var n=a("2936"),r=a("8f95");for(var i in r)"default"!==i&&function(e){a.d(t,e,(function(){return r[e]}))}(i);a("f88d");var o=a("2877"),s=Object(o["a"])(r["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports},cd49:function(e,t,a){"use strict";a("e260"),a("e6cf"),a("cca6"),a("a79d"),Object.defineProperty(t,"__esModule",{value:!0});var n=a("9ab4"),r=n.__importDefault(a("2b0e")),i=n.__importDefault(a("7fe4")),o=n.__importDefault(a("0613")),s=n.__importDefault(a("0670")),u=a("e11e");a("6cc5"),delete u.Icon.Default.prototype._getIconUrl,u.Icon.Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")}),r.default.config.productionTip=!1,new r.default({store:o.default,vuetify:s.default,render:function(e){return e(i.default)}}).$mount("#wbMap")},cffa:function(e,t,a){"use strict";var n=a("970b"),r=a("5bc3"),i=a("ed6d"),o=a("2d0d");Object.defineProperty(t,"__esModule",{value:!0});var s=a("9ab4"),u=a("60a3"),l=function(e){i(a,e);var t=o(a);function a(){var e;return n(this,a),e=t.apply(this,arguments),e.isSideMenuOpen=null,e.items=[{divider:!0},{icon:"layers",title:"layers"},{divider:!0},{icon:"fullScreen",title:"fullScreen"},{icon:"help",title:"help"}],e}return r(a,[{key:"setState",value:function(e){this.$emit("listenerSideMenuOpen",e)}},{key:"doAction",value:function(e){console.log(e)}}]),a}(u.Vue);l=s.__decorate([u.Component({name:"wpSideMenu",components:{},props:["isOpen"]})],l),t.default=l},dac5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("1f11");t.default=Object.assign(Object.assign({},n.fr),{key1:"key 1 francais",key2:"key 2 francais",sideMenu:"Afficher le menu de cote",layers:"Couches",close:"Fermer",fullScreen:"Plein Écran",help:"Aide",logoText:"Présence web",namespace:{key3:"key 3 francais"}})},dacb:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%",width:"100%","z-index":"500"}},[a("v-app-bar",{staticClass:"wp-app-bar align-center",attrs:{dense:"",floating:""}},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({staticClass:"mx-0",attrs:{text:"",rounded:"",small:"",color:"primary"},on:{click:function(t){t.stopPropagation(),e.isSideMenuOpen=!e.isSideMenuOpen}}},n),[a("v-icon",[e._v("$vuetify.icons.sideMenu")])],1)]}}])},[a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.sideMenu")))])]),a("v-spacer"),a("v-layout",{attrs:{"align-center":"","justify-end":""}},[a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.layers")))]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({staticClass:"mx-0",attrs:{text:"",rounded:"",small:"",color:"primary"},on:{click:function(t){t.stopPropagation(),e.isLayersMenuOpen=!e.isLayersMenuOpen}}},n),[a("v-icon",[e._v("$vuetify.icons.layers")])],1)]}}])},[a("span",[e._v(e._s(e.$vuetify.lang.t("$vuetify.layers")))])])],1)],1),a("wpSideMenu",{attrs:{isOpen:e.isSideMenuOpen},on:{listenerSideMenuOpen:e.updateSideMenuState}}),a("wpLayersMenu",{directives:[{name:"show",rawName:"v-show",value:e.isLayersMenuOpen,expression:"isLayersMenuOpen"}]})],1)},r=[];a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}))},db77:function(e,t,a){},e877:function(e,t,a){"use strict";var n=a("970b"),r=a("5bc3");Object.defineProperty(t,"__esModule",{value:!0}),t.Basemap=void 0;var i=function(){function e(){n(this,e),this._lccCBMT=[{url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/CBMT3978/MapServer/WMTS/tile/1.0.0/BaseMaps_CBMT3978/default/default028mm/{z}/{y}/{x}.jpg",options:{tms:!1,tileSize:256,attribution:!1,noWrap:!1}}],this._wmCBMT=[{url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/CBMT_CBCT_GEOM_3857/MapServer/WMTS/tile/1.0.0/BaseMaps_CBMT_CBCT_GEOM_3857/default/default028mm/{z}/{y}/{x}.jpg",options:{tms:!1,tileSize:256,attribution:!1,noWrap:!0}},{url:"https://geoappext.nrcan.gc.ca/arcgis/rest/services/BaseMaps/CBMT_TXT_3857/MapServer/WMTS/tile/1.0.0/BaseMaps_CBMT_TXT_3857/default/default028mm/{z}/{y}/{x}.png",options:{tms:!1,tileSize:256,attribution:!1,noWrap:!0}}],this._attribution={"en-CA":"&copy Her Majesty the Queen in Right of Canada, as represented by the Minister of Natural Resources","fr-CA":"&copy Sa Majesté la Reine du Chef du Canada, représentée par le ministre des Ressources naturelles"},console.log("in basemaps")}return r(e,[{key:"getCBMT",value:function(e){var t="3857"===e?this.wmCBMT:this.lccCBMT;return t}},{key:"lccCBMT",get:function(){return this._lccCBMT}},{key:"wmCBMT",get:function(){return this._wmCBMT}},{key:"attribution",get:function(){return this._attribution}}]),e}();t.Basemap=i},ece0:function(e,t,a){"use strict";a("b0c0"),a("ac1f"),a("5319");var n=a("970b"),r=a("5bc3"),i=a("ed6d"),o=a("2d0d");Object.defineProperty(t,"__esModule",{value:!0});var s=a("9ab4"),u=a("60a3"),l=s.__importDefault(a("ccb6"));a("9b40");var c=function(e){i(a,e);var t=o(a);function a(){var e;return n(this,a),e=t.apply(this,arguments),e.maps=[],e}return r(a,[{key:"beforeMount",value:function(){this.initMap()}},{key:"initMap",value:function(){for(var e=document.getElementsByClassName("llwb-map"),t=0;t<e.length;t++){var a=e[t],n=JSON.parse(a.getAttribute("data-leaflet").replace(/'/g,'"'));a.id=e[t].id,a.name=n.name,a.projection=n.projection,a.zoomLevel=n.zoomLevel,a.center=n.center,a.language=n.language,a.layers=n.layers,this.maps.push(e[t])}}}]),a}(u.Vue);c=s.__decorate([u.Component({name:"wp-leaflet-viewer",components:{wpMap:l.default}})],c),t.default=c},ef1a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),a("path",{attrs:{d:"M11.99 18.54l-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"}})])},r=[],i={name:"layers"},o=i,s=a("2877"),u=Object(s["a"])(o,n,r,!1,null,null,null);t["default"]=u.exports},f53c:function(e,t,a){},f88d:function(e,t,a){"use strict";var n=a("ac9a"),r=a.n(n);r.a}});